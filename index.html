<!--

This is free software. Feel free to use, copy, or modify it at your leisure.

Just don't say you made the original.

Fool, that was our job.

Peace on earth!

--------------------------------

TODO:

"Subscribed" Tags -- Save Tag preferences as jStorage cookie, option to "Show All" or "Show Subscribed".
Configurable default (subscribed vs all).

I'm doing some reaserach on div tags, so hopefully i can implement this feature

-->

<!DOCTYPE html>
<html>

<head>
  <title>hwStack v0.1beta</title>
  
  <meta name="viewport" content="width=935">
  
  <link rel="stylesheet" type="text/css" href="style.css">
  
  <!--supplementary CSS libaries-->
  <link href='http://fonts.googleapis.com/css?family=Alef' rel='stylesheet' type='text/css'>
  
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
  
  <!--supplementary JS scripts-->
  <script src="//code.jquery.com/jquery-1.10.2.js"></script>
  <script src="//code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
  
  <!--<script src="http://gist-it.sudarmuthu.com/github/hwstack/hwstack.github.io/blob/master/index.html"></script>-->
  
  <script src="//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css"></script>
  <script src="https://rawgithub.com/andris9/jStorage/master/jstorage.min.js"></script>
  
  <!--<script src="https://rawgithub.com/pklauzinski/jscroll/master/jquery.jscroll.js"></script>-->
  <script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.5.1/moment.min.js"></script>
  
  <!--favicon-->
  <link rel="shortcut icon" href="http://www.iconj.com/ico/p/l/pl24j2fryv.ico" type="image/x-icon" />
</head>
<body onload="bodyOnload()">

<!--"fork me on github" ribbon-->
<a href="https://github.com/hwstack/hwstack.github.io" target="_blank" id="ribbon"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>

<!--<label for="1">id=1</label><input type="checkbox" name="1" id="1" onclick="doThing(1);"/><br />
<label for="2">id=2</label><input type="checkbox" name="2" id="2" onclick="doThing(2);"/><br />
<label for="3">id=3</label><input type="checkbox" name="3" id="3" onclick="doThing(3);"/><br />-->

<small style="color:#ff0000">v0.1beta</small>
<small><a title="Bookmarklet v0.2a :: Drag this into your bookmarks bar to save it!" href="javascript:
 		(function(){
        	var date = prompt('When is this due?');
        	var task = prompt('What is your task?');
        	var key = prompt('For which class?');
 		if(!key) {
 			alert('Woops!  :I  Class must be specified!');
 			return;
 		}
 		var myWindow = window.open('http://hwstack.github.io/?k='+escape(key)+'+t='+escape(task)+'+d='+escape(date), 'myWindow');
 		})();
 ">Add Task</a></small>&nbsp;|&nbsp;
<small><a title="Popout" href="javascript:popout()">Popout</a></small>&nbsp;|&nbsp;
<small><a title="View Source" href="view-source:http://hwstack.github.io" target="_blank">Source</a></small>&nbsp;|&nbsp;
<small><a title="Bug Reports" href="mailto:15amcguire@sageschool.org?cc=15jzimmerman@sageschool.org" target="_blank">Bug Reports</a></small>

<table id="wrapper">
  <tr>
  
<td id="thestack-wrapper">
  <h2 align="center">theStack</h2><br />
  
  <!--nav-->
  <nav align="center">
  
  <a style="position:relative;bottom:12px;" target="_blank" href="https://github.com/hwstack/hwstack.github.io/blob/master/README.md">
  	<i class="fa fa-info" style="font-size:1.3em"></i>&nbsp;&nbsp;
  	<span class="link-title">about</span>
  </a>
  &nbsp;&nbsp;&nbsp;&nbsp;
  <a id="sel-view-tS" style="position:relative;bottom:12px;" href="http://hwstack.github.io/?v=tS">
  	<i class="fa fa-user"></i>&nbsp;
  	<span class="link-title">show just this</span>
  </a>
  &nbsp;&nbsp;&nbsp;&nbsp;
  
  <!--showClass categories
  <a id="sel-view-tS" title="show just #HumVaughan" style="position:relative;bottom:12px;color:#4B8AE3;" href="javascript:showClass('humv')">
  	<i class="fa fa-book"></i>&nbsp;
  </a>
  <a id="sel-view-tS" title="show just #HumCadigan" style="position:relative;bottom:12px;color:#4B8AE3;" href="javascript:showClass('humc')">
  	<i class="fa fa-book"></i>&nbsp;
  </a>-->
  
  </nav>
  
  <div class="sci">
    <span class="date">2/11/14</span>&nbsp;<span class="class">#Sci</span><br />
    <span class="task">Presentation Due</span>
  </div>
    <div class="mathk">
    <span class="date">2/10/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">14.1 Practice All, do 13.5 at some point		</span>
  </div>    
  <div class="humc">
    <span class="date">2/10/14</span>&nbsp;<span class="class">#HumCadigan</span><br />
    <span class="task">Graphic Organizer :)</span>
  </div>
  <div class="humv">
    <span class="date">2/10/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Essay, if needed still.  Grammar test corrections-be sure to follow the directions <u>exactly</u>.  See the instruction sheet.  Actively read the handout on Sumner, Garrison, and Stowe.</span>
  </div>
  <div class="mathcw">
    <span class="date">2/10/14</span>&nbsp;<span class="class">#MathCW</span><br />
    <span class="task">Problem sets:<br />p 576 #9-23 all,<br />p 580 #7-22 all,<br />p 580 #26-28 all</span>
  </div>
    <div class="lat">
    <span class="date">2/12/14</span>&nbsp;<span class="class">#Lat</span><br />
    <span class="task">Olympic WS</span>
  </div>
  <div class="mathcw">
    <span class="date">2/12/14</span>&nbsp;<span class="class">#MathCW</span><br />
    <span class="task">Problem sets:<br />p 587 #10-22</span>
  </div>
  
  <hr />
  <div class="span">
    <span>2/7/14</span>&nbsp;<span class="class">#Span</span><br />
    <span class="task">Prepare to present yer skitz!</span>
  </div>
  <div class="humc">
    <span>2/7/14</span>&nbsp;<span class="class">#HumCadigan</span><br />
    <span class="task">Magic Lens Review Packet (see email)</span>
  </div>
  <div class="humv">
    <span>2/7/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Grammar Test Corrections (see handout)</span>
  </div>
  <div class="sci">
    <span>2/7/14</span>&nbsp;<span class="class">#Sci</span><br />
    <span class="task">Work on Element Presentation</span>
  </div>
  <div class="mathk">
    <span>2/7/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">Finish and Correct Pop Test on Chapter 12!</span>
  </div>
  
  <hr />
  <div class="mathcw">
    <span>2/6/14</span>&nbsp;<span class="class">#MathCW</span><br />
    <span class="task">Problem Sets:<br />p. 559: #9-16 (all), #22-25<br />p. 566: #11-25 (all), #29<br />p. 571: #10-24 (all), #26</span>
  </div>
  <div class ="mathk">
    <span>2/5/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">13.4 Practice (all)<br />13.4 Enrichment</span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#Lat</span><br />
    <span class="task"><a href="https://docs.google.com/a/sageschool.org/file/d/0B91xjnpFMM7HaHQ5YVYzOE9WeTA/edit" target="_blank">HwDoc</a></span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#Span</span><br />
    <span class="task">Y'all is presentin' ye skit on Friday!  Make dem edits necessarios y memoriza!</span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#HumCadigan</span><br />
    <span class="task">Finish the <i>Narrative</i> and Reflect.</span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#Sci</span><br />
    <span class="task">Finish yo Final! Good luck to those who left it all for t'night!</span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Fix up yo List 6 Analogies in the <i>WWW</i> (if you need to).  1st draft of essay due Thursday.</span>
  </div>
  
  <hr />
  <div>
    <span>2/4/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">Practice 13.3 (all)</span>
  </div>
  <div>
    <span>2/4/14</span>&nbsp;<span class="class">#MathCW</span><br />
    <span class="task">p. 559: #9-16 (all), #22-25</span>
  </div>
  <div>
    <span>2/4/14</span>&nbsp;<span class="class">#Span</span><br />
    <span class="task">1. Present skit on <i>Thursday</i> (memorize).<br />2. <b>Reading Comprehension</b> worksheet</span>
  </div>
  <div>
    <span>2/4/14</span>&nbsp;<span class="class">#HumCadigan</span><br />
    <span class="task">Read Chapters 9 & 10 and reflect in journal.</span>
  </div>
  <div>
    <span>2/4/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Complete the flash cards and word analogies for list 6.  Study for Grammar test.   Bring list 1-6 flash cards to class on Tuesday.</span>
  </div>
  <div>
    <span>2/3/14</span>&nbsp;<span class="class">#Span</span><br />
    <span class="task">Informal Writing Worksheet</span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#Lat</span><br />
    <span class="task"><a href="https://docs.google.com/a/sageschool.org/file/d/0B91xjnpFMM7HaHQ5YVYzOE9WeTA/edit" target="_blank">HwDoc</a></span>
  </div>
  <div>
    <span>2/3/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">Practice 13.2 (all)</span>
  </div>
  <div>
    <span>2/4/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Be sure to have all flash cards for lists 1-5 on Tuesday.  Study for Grammar Test.  Complete any missing work.</span>
  </div>
  <div>
    <span>2/1/14</span>&nbsp;<span class="class">#MUN&nbsp;</span><br />
    <span class="task">BUAMUN!</span>
  </div>
  <hr />
  <div>
    <span>1/31/14</span>&nbsp;<span class="class">#Hum&nbsp;</span><br />
    <span class="task">Book Card!</span>
  </div>
  <div>
    <span>1/31/14</span>&nbsp;<span class="class">#Span</span><br />
    <span class="task">W.B. 10.11-10.12</span>
  </div>
  <div>
    <span>1/31/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">Practice 13.1(all)</span>
  </div>
  <div>
    <span>1/31/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Outline Essay</span>
  </div>
  <div>
    <span>1/31/14</span>&nbsp;<span class="class">#Sci</span><br />
    <span class="task">Choose the top 3 elements you want to create a 10min presentation on, later on. Only chemical symbols in your first or last name may be used.<br /><b>Resource:</b><br /><a href="http://ptable.com" target="_blank">Ptable</a></span>
  </div>
   <div>
    <span>1/31/14</span>&nbsp;<span class="class">#HumCadigan</span><br />
    <span class="task">Prepare for Crisis #4<br />Study WWW Lists 1-5</span>
  </div>
  <div>
    <span>1/30/14</span>&nbsp;<span class="class">#Span</span><br />
    <span class="task">Informal Writing Worksheet</span>
  </div>
  <div>
    <span>1/30/14</span>&nbsp;<span class="class">#MathKramer</span><br />
    <span class="task">Study for Chapter 12 test.</span>
  </div>
  <div>
    <span>1/30/14</span>&nbsp;<span class="class">#MathCW</span><br />
    <span class="task">Textbook: pg 524 #7-24 odd, #24-29 all; pg 530 #9-31 odd, #34; pg 536 #11-25 odd, #35, #39-46 all</span>
  </div>
  <div>
    <span>1/30/14</span>&nbsp;<span class="class">#HumVaughan</span><br />
    <span class="task">Study for your grammar test.  Make any necessary edits to your short story.</span>
  </div>
  <div>
    <span>1/31/14</span>&nbsp;<span class="class">#Latin</span><br />
    <span class="task">January project due!</span>
  </div>
  <div>
    <span>2/5/14</span>&nbsp;<span class="class">#Sci</span><br />
    <span class="task">Final Due!</span>
  </div>
</td>

<!--bug reports column-->
<td id="bugreports-wrapper" style="display:none;" >
	<!--TODO-->
</td>

<td id="mystack-wrapper">
  <h2 align="center">myStack</h2><br />
  
  <nav align="center">
  <a style="position:relative;bottom:12px;" href="https://github.com/hwstack/hwstack.github.io/blob/master/READMEmyStack.md" target="_blank">
  	<i class="fa fa-info" style="font-size:1.3em"></i>&nbsp;&nbsp;<span class="link-title">about</span>
  </a>
  &nbsp;&nbsp;&nbsp;&nbsp;
  <a style="position:relative;bottom:12px;" href="javascript:flush_data()">
  	<i class="fa fa-fire"></i>&nbsp;
  	<span class="link-title">clear tasks</span>
  </a>
  &nbsp;&nbsp;&nbsp;&nbsp;
  <a id="sel-view-mS" style="position:relative;bottom:12px;" href="http://hwstack.github.io/?v=mS">
  	<i class="fa fa-user"></i>&nbsp;
  	<span class="link-title">show just this</span>
  </a>
  </nav>
  
  <table width="100%" cellpadding="0px" cellspacing="0px">
  <tr>
  	<td style="width: 15%"><input type="text" id="date" name="date" value="" style="width: 100%" /></td>
 	<td style="width: 20%"><input type="text" id="key" name="key" value="" placeholder="#class" style="width: 100%" /></td>
	<td style="width: 65%"><textarea id="task" name="task" value="" placeholder="task &#038; date" style="width: 100%"></textarea></td>
	
	<td>
		<a href="javascript:add()"><i title="add task" style="position:relative;top:3px;font-size:1.2em;" class="fa fa-plus-circle"></i></a><br />
		<a href="javascript:clearInputs()"><i title="clear inputs" style="position:relative;top:3px;font-size:1.2em;" class="fa fa-times-circle"></i></a><br />
	</td>
  </tr>
  
  <tbody id="tasks">
  	<!--tasks are plopped here-->
  </tbody>
  
  </table>
</td>

  </tr>
</table>

<a title="Test" href='javascript:
 		(function(){
        	gen();
	 	})();
 '>Test Gen</a>

<script type="text/javascript">
	
	//Work In Progress.
	function gen(){
		var w = window.open("", "", "width=400,height=300");
        	//w.document.write("<head><script src='https://rawgithub.com/hwstack/hwstack.github.io/master/myStack.js'></head>");
        	//w.document.write("<body><table><tr><td><input type='text' placeholder='due date' id='date'/></td><td rowspan='3'><textarea placeholder='output' rows='6' id='output'></textarea></td></tr><tr><td><input type='text' placeholder='class' id='class'/></td></tr><tr><td><textarea placeholder='task' id='task'></textarea></td></tr><tr><td colspan='2'><button onclick='output()'></button></body>");
        	
        	html = "<head><script src='https://rawgithub.com/hwstack/hwstack.github.io/master/myStack.js'></head><body><table><tr><td><input type='text' placeholder='due date' id='date'/></td><td rowspan='3'><textarea placeholder='output' rows='6' id='output'></textarea></td></tr><tr><td><input type='text' placeholder='class' id='class'/></td></tr><tr><td><textarea placeholder='task' id='task'></textarea></td></tr><tr><td colspan='2'><button onclick='output()'></button></body>";
        	$(w.document.body).html(html);
        	
        	//w.onload = function(){this.document.body.innerHTML+="<head><script src='https://rawgithub.com/hwstack/hwstack.github.io/master/myStack.js'></head>";};
        	//w.onload = function(){this.document.body.innerHTML+="<body><table><tr><td><input type='text' placeholder='due date' id='date'/></td><td rowspan='3'><textarea placeholder='output' rows='6' id='output'></textarea></td></tr><tr><td><input type='text' placeholder='class' id='class'/></td></tr><tr><td><textarea placeholder='task' id='task'></textarea></td></tr><tr><td colspan='2'><button onclick='output()'></button></body>";};
        }
	//////////////////////////////////
	var mySubs = [];
	
	var mySubsKey = "DONT-USE-THIS-KEY-PLEASE-NEVER-DO-NEVER-OPPLSNERF";

	function addToSub( key ){
		
		mySubs.push(key);
		$.jStorage.set(mySubsKey, mySubs);
		
	}
	
	function deleteSub( i ){
		
		i=="all" ? mySubs = [] : delete mySubs[i];
		$.jStorage.set(mySubsKey, mySubs);
	}
	
	function setSubView( s ){
		
		if (s.toString() == "1"){
			
			mySubs.forEach(showClass);
			
		}
		else if (s.toString() == "0"){
			
			resetShowClass();
			
		}
		
	}
	
	
	
	
	//////////////////////////////////////////////////////////

	function showClass( key ){
		$("div").css("display","none");
		$("hr").css("display","none");
		
		if(key == "mathk"){
			$("div.mathk").css("display","");
			return;
		}else if(key == "mathcw"){
			$("div.mathcw").css("display","");
			return;
		}else if(key == "humv"){
			$("div.humv").css("display","");
			return;
		}else if(key == "humc"){
			$("div.humc").css("display","");
			return;
		}else if(key == "span"){
			$("div.span").css("display","");
			return;
		}else if(key == "lat"){
			$("div.lat").css("display","");
			return;
		}else if(key == "sci"){
			$("div.sci").css("display","");
			return;
		}
	}
	
	function resetShowClass(){
		$("div").css("display","");
		$("hr").css("display","");
	}
	
	function popout(){
		var popout = window.open("http://hwstack.github.io/?w=100","hwStack","width=570,height=750");
	}
	
	var today, tomorrow;
	
	function bodyOnload(){
		checkForArgs();
		updateLayout();
		
		today = moment().format("M/D/YY");
		tomorrow = today.replace( today.substr(2,1), ( Number(today.substr(2,1))+1 ).toString() );
		$("#date").attr("placeholder", tomorrow);
		
		reDraw();
		specificView( getQueryVariable("v") );
		
		colorizeEntries(today, tomorrow);
	}
	
	$(window).resize(function(){
		updateLayout();
	});
	
	function updateLayout(){
		if ($(window).width() <= 1308){	
			$( ".link-title" ).css( "display", "none" );
			$( "#ribbon" ).css( "display", "none" );
		}else{
			$( ".link-title" ).css( "display", "" );
			$( "#ribbon" ).css( "display", "" );
		}
		
		var wrapperWidth = (getQueryVariable("w") ? getQueryVariable("w") : 60)+"%";
		$("#wrapper").css("width", wrapperWidth);
	}
	
	//$("#date").html(date);
	
	///////////////////////////////////////////////////////////////////////////////
	
	$.expr[":"].contains = $.expr.createPseudo(function(arg){
    	return function( elem ) {
        	return $(elem).text().toUpperCase().indexOf(arg.toUpperCase()) >= 0;
		};
	});
	
	function add(){
		var key = $("#key").val();
		var task = $("#task").val();
		var date = $("#date").val();
		
		if(!key){
			alert("Woops!  :I  Class must be specified!");
			$("#key").focus();
			return;
		}
		
		$("#key").val('');
		$("#task").val('');
		$("#date").val('');
		
		key = (key.substring(0,1) == "#" || key.substring(0,1) == "<" ? key : "#"+key);
		
		$.jStorage.set(key, task+"@"+date);
		reDraw();
		$("#key").focus();
	}
	
	function argsAdd( key, task, date ){
		key = unescape(key);
		key = (key.substring(0,1) == "#" || key.substring(0,1) == "<" ? key : "#"+key);
		
		task = unescape(task);
		date = unescape(date);
		
		$.jStorage.set(key, task+"@"+date);
		reDraw();
	}

	function flush_data(){
		$.jStorage.flush();
		reDraw();
	}

	function delTask( key ){
		$.jStorage.deleteKey( key.toString() );
		reDraw();
	}
	
	function editTask ( key ){
		$("#key").val( key );
		var val = $.jStorage.get(key).split("@");
		$("#task").val( val[0] );
		$("#date").val( val[1] );
		$("#task").focus();
	}

	function reDraw(){
		var key, task, date, row, delHref, editHref, valArray;

		//clears old list before drawing new one
		$("#tasks").empty();
	
		for(i=0; i<($.jStorage.index().length); i++){
			key = $.jStorage.index()[i];
			val = $.jStorage.get(key).toString().split("@");
			task = unescape( val[0] );
			date = unescape( val[1] );
			
			delHref = "javascript:delTask('"+key+"')";
			editHref = "javascript:editTask('"+key+"')";
			$row = $( "<tr><td colspan='3' class='mystack-entry'><span>"+date+"</span>&nbsp;<span class='class'>"+key+"</span><br /><span class='task'>"+task+"</span></td><td><a href="+'"'+delHref+'"'+"><i class='fa fa-check-square-o'></i></a><br /><a href="+'"'+editHref+'"'+"><i class='fa fa-edit'></i></a></td></tr>" );
			
			$( "#tasks" ).prepend( $row );
		}
		
		colorizeEntries();
	}
	
	function clearInputs(){
		$("#key").val('');
		$("#task").val('');
		$("#date").val('');
	}
	
	$("#task, #key, #date").keypress(function(e){
  		if(e.which==13){
  			add();
  			return false;
  		}
	});
	
	////////////////////////////////////////////////////////////////////////
	
	function colorizeEntries(){
		//colors entry tags
		$( "span:contains('#humv')" ).css( "color", "#4B8AE3" );
		$( "span:contains('#humc')" ).css( "color", "#4343E6" );
		$( "span:contains('#span')" ).css( "color", "#EB3921" );
		$( "span:contains('#mathk')" ).css( "color", "#C321EB" );
		$( "span:contains('#mathc')" ).css( "color", "#369E19" );
		$( "span:contains('#sci')" ).css( "color", "#EB9721" );
		$( "span:contains('#lat')" ).css( "color", "#8A8A8A" );
		$( "span:contains('#mun')" ).css( "color", "#282828");
		
		//colors task tags 
		$( ".class:contains('#humv')" ).css( "color", "#4B8AE3" );
		$( ".class:contains('#humc')" ).css( "color", "#4343E6" );
		$( ".class:contains('#span')" ).css( "color", "#EB3921" );
		$( ".class:contains('#mathk')" ).css( "color", "#C321EB" );
		$( ".class:contains('#mathc')" ).css( "color", "#369E19" );
		$( ".class:contains('#sci')" ).css( "color", "#EB9721" );
		$( ".class:contains('#lat')" ).css( "color", "#8A8A8A" );
		$( ".class:contains('#mun')" ).css( "color", "#282828");
		
		//colors entries due today
		$("div[id!=thestack-wrapper]:contains("+today+")").css("background-color","#EBD754");
		//colors tasks due today
		$("td[id!=mystack-wrapper]:contains("+today+")").css("background-color","#EBD754");
		
		//colors entries due tomorrow
		$("div[id!=thestack-wrapper]:contains("+tomorrow+")").css("background-color","#A7DE7A");
		//colors tasks due tomorrow
		$("td[id!=mystack-wrapper]:contains("+tomorrow+")").css("background-color","#A7DE7A");
	}
	
	////////////////////////////////////////////////////////////////////////
	
	$.fn.outerHTML = function(){
		// IE, Chrome & Safari will comply with the non-standard outerHTML, all others (FF) will have a fall-back for cloning
		return (!this.length) ? this : (this[0].outerHTML || (
		function(el){
			var div = document.createElement('div');
			div.appendChild(el.cloneNode(true));
			var contents = div.innerHTML;
			div = null;
			return contents;
		})(this[0]));
	};
	
	$("div").click(function(){
		var key = $(this).find(".class").html();
		var task = $(this).find(".task").html();
		var date = $(this).find(".date").html();
		
		var val = task+"@"+date;
		
		$.jStorage.set( key, val );
		reDraw();
	});
	
	function specificView( type ){
		if(type=="tS"){ //just theStack
			$( "#thestack-wrapper" ).css( "display", "" );
			$( "#mystack-wrapper" ).css( "display", "none" );
			
			if( getQueryVariable("r") != "no" ) {
				$( "#sel-view-tS" ).replaceWith( "<a style='position:relative;bottom:12px;' href='http://hwstack.github.io/'><i class='fa fa-arrow-left'></i>&nbsp;return to main view</a><br />" );
			} else {
				$("#sel-view-tS").css("display", "none");
			}

		}else if(type=="mS"){ //just myStack
			$( "#thestack-wrapper" ).css( "display", "none" );
			$( "#mystack-wrapper" ).css( "display", "" );
			
			if( getQueryVariable("r") != "no" ) {
				$( "#sel-view-mS" ).replaceWith( "<a style='position:relative;bottom:12px;' href='http://hwstack.github.io/'><i class='fa fa-arrow-left'></i>&nbsp;return to main view</a><br />" );
			} else {
    			$("#sel-view-mS").css("display", "none");
			}
		}
	}
	
	function resetView(){
		$( "#thestack-wrapper" ).css( "display", "" );
		$( "#mystack-wrapper" ).css( "display", "" );
	}
	
	function checkForArgs() {
		var k = getQueryVariable('k');
		var t = getQueryVariable('t');
		var d = getQueryVariable('d');
		if((k && t) && d){
			argsAdd(k, t, d);
			
			var state = {
				"yoloCuzICan": true
			};
			history.pushState(state, "hwStack", "http://hwstack.github.io/");
		}
	}
	
	function getQueryVariable( variable ){
		var query = window.location.search.substring(1);
		var vars = query.split("+");
		for (var i=0;i<vars.length;i++) {
			var pair = vars[i].split("=");
			if(pair[0] == variable){return pair[1];}
		}
		return(false);
	}

</script>

</body>
</html>
